<!DOCTYPE html>
<html>
<style type="text/css">
    #header:after {
        content: 'off';
    }

    #header.capslock:after {
        content: 'on';
        background: red;
    }
</style>
<script type="module">
    import { onCapsLockChange, getCurrentOs } from "./index.js";

    logs.innerText += "\nOS: " + getCurrentOs();
    logs.innerText += "\nUser Agent: " + navigator.userAgent;
    logs.innerText += "\nUser Agent Data Platform: " + navigator.userAgentData?.platform;
    logs.innerText += "\nPlatform: " + navigator.platform;

    onCapsLockChange((caps) => {
        console.log("capslock is ", caps ? "on" : "off");
        logs.innerText += `\ncapslock is ${caps ? "on" : "off"}`;

        if (caps) {
            document.getElementById('header').classList = ['capslock'];
        } else {
            document.getElementById('header').classList = [];
        }
    })

</script>

<body>
    <h1 id="header">Caps-Lock is </h1>
    Type some text or toggle Caps Lock...
    <div id="text"></div>

    <textarea></textarea><br />
    <input type="username" autocomplete="current-username"><br />
    <input type="password" autocomplete="current-password"><br /><br />
    <h2>Logs</h2>
    <pre id="logs"></pre>
</body>

</html>
